Player,NetObject {
    #Socket Socket,Server;
    String Name;
    Position Position;
    Int Health;
    Int MaxHealth;
    Int Mana;
    Int MaxMana;
    Inventory Inventory;
    
    this.GetSyncSockets = #{
        List<Socket> s = new List<Socket>();
        foreach(var p in Main.players) {
            //var d = dist(Main.players[((int)this.Socket.pid)], Main.players[p]);
            //if(d < 30) {
            //    s.Add(p.Socket);
            //}
			s.Add(p);
        }
        return s;
    }
}

Position {
    float X;
    float Y;
    float Z;
    
    float LastX,Server;
    float LastY,Server;
    float LastZ,Server;
    
    this.PreUpdate = #{
        this.LastX = this.X;
        this.LastY = this.Y;
        this.LastZ = this.Z;
    }
    
    this.PostUpdate = #{
        //check which sockets we need to send entire NetObject too
        
        //sync tiles !!!
    }
}

Inventory {
    Item[] Items;
    int Coins;
    
    this.GetSyncSockets = #{
        List<Socket> s = new List<Socket>();
        s.Add(((Player)this.parent).GetSocket());
        return s;
    }
    
    this.SyncFilter = #{
        return socket.pid == ((Player)this.parent).GetSocket().pid;
    }
}

Item {
    int Itemid;
    int Subtype;
    int Count;
}